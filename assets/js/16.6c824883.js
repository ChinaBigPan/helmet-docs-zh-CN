(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{366:function(t,s,n){"use strict";n.r(s);var e=n(41),a=Object(e.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"x-download-options"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#x-download-options","aria-hidden":"true"}},[t._v("#")]),t._v(" X-Download-Options "),n("Badge",{attrs:{text:"默认启用"}})],1),t._v(" "),n("p",[n("a",{attrs:{href:"https://helmetjs.github.io/docs/ienoopen/",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("简介：该中间件设置"),n("code",[t._v("X-Download-Options")]),t._v("报头以阻止IE浏览器下载您网站中的内容。")]),t._v(" "),n("h2",{attrs:{id:"攻击方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#攻击方式","aria-hidden":"true"}},[t._v("#")]),t._v(" 攻击方式")]),t._v(" "),n("p",[t._v("这种攻击只会影响老版本的IE浏览器。")]),t._v(" "),n("p",[t._v("有一些web应用让用户下载不受信任的HTML。比方说，您可以设置成允许用户上传和下载HTML文件。")]),t._v(" "),n("p",[t._v("默认情况下，老版本的IE浏览器允许您在网站环境下打开这些HTML文件，这就意味着一个不受信任的HTML页面可能据此搞事情。更多信息请参阅"),n("a",{attrs:{href:"https://blogs.msdn.microsoft.com/ie/2008/07/02/ie8-security-part-v-comprehensive-protection/",target:"_blank",rel:"noopener noreferrer"}},[t._v("这篇MSDN博客文章"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"响应头详解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#响应头详解","aria-hidden":"true"}},[t._v("#")]),t._v(" 响应头详解")]),t._v(" "),n("p",[n("code",[t._v("X-Download-Options")]),t._v("报头可以设置成"),n("code",[t._v("noopen")]),t._v("。这将防止旧版本的IE浏览器允许在您网站环境中执行恶意HTML下载。")]),t._v(" "),n("p",[t._v("扩展阅读")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://blogs.msdn.microsoft.com/ie/2008/07/02/ie8-security-part-v-comprehensive-protection/",target:"_blank",rel:"noopener noreferrer"}},[t._v("“IE8 Security Part V: Comprehensive Protection” on MSDN"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码","aria-hidden":"true"}},[t._v("#")]),t._v(" 代码")]),t._v(" "),n("p",[t._v("Helmet的"),n("code",[t._v("isNoOpen")]),t._v("中间件并不复杂，它仅仅将您的"),n("code",[t._v("X-Download-Options")]),t._v("报头可以设置成"),n("code",[t._v("noopen")]),t._v("。")]),t._v(" "),n("p",[t._v("您可以作为Helmet的内部方法使用：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Make sure you run "npm install helmet" to get the Helmet package.')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" helmet "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'helmet'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Sets "X-Download-Options: noopen".')]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("helmet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ieNoOpen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("还可以作为单独的模块使用：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Make sure you run "npm install ienoopen" to get the ienoopen package.')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ieNoOpen "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ienoopen'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Sets "X-Download-Options: noopen".')]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ieNoOpen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);